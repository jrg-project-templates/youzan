{"version":3,"sources":["webpack:///./src/pages/cart/cartService.js","webpack:///./src/modules/js/api.js","webpack:///src/components/Foot.vue","webpack:///./src/components/Foot.vue?d18b","webpack:///./src/components/Foot.vue","webpack:///./src/modules/js/mixin.js","webpack:///./src/pages/cart/cart.js","webpack:///./src/modules/js/fetch.js"],"names":["Cart","userID","fetch","get","url","cartList","goodsID","post","cartIncrease","cartReduce","cartRemove","goodsArr","cartMoreRemove","hotList","bannerList","topList","subList","rank","searchList","goodsDetails","cartAdd","addressGetList","addressAdd","addressUpdate","addressRemove","addressSetDefault","key","hasOwnProperty","navConfig","id","name","icon","href","Foot","data","activeIndex","parseInt","lib_default","a","parse","location","search","slice","index","methods","changeNav","list","components_Foot","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","class","active","on","click","$event","_v","_s","staticRenderFns","mixin","components","__webpack_require__","normalizeComponent","ssrContext","filters","currency","value","Math","round","toFixed","Object","defineProperty","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__cart_base_css__","__WEBPACK_IMPORTED_MODULE_1__cart_trade_css__","n","__WEBPACK_IMPORTED_MODULE_2__cart_css__","__WEBPACK_IMPORTED_MODULE_3_vue__","__WEBPACK_IMPORTED_MODULE_4_velocity_animate__","__WEBPACK_IMPORTED_MODULE_4_velocity_animate___default","__WEBPACK_IMPORTED_MODULE_5__cartService_js__","__WEBPACK_IMPORTED_MODULE_6_js_mixin_js__","Vue","el","loading","editingStatus","editingIndex","selectGoodsList","removeGoodsList","removePopup","removeData","removeAllStatus","removeMsg","created","_this","getList","then","_this2","forEach","shop","selectChecked","removeChecked","disabled","editMsg","goodsList","goods","touchStart","e","start","changedTouches","clientX","touchEnd","shopIndex","goodsIndex","end","Velocity","$refs","left","checkNumber","number","isNaN","goodsIncrease","count","reduce","res","editShop","item","selectGoods","_this3","checkType","every","checkSelectList","selectShops","_this4","checkListType","indexOf","push","i","length","splice","removeGoods","removeMoreGoods","removeConfirm","_this5","moreRemove","map","removeGoodsSuccess","_removeData","remove","removeShop","_this6","allSelect","allSelctStatus","computed","allPrice","sum","price","allCount","set","checked","_this7","mixins","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","axios","status","catch","console","log"],"mappings":"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","file":"static/js/cart.c66781fe46eed34e078d.js","sourcesContent":["import url from 'js/api.js'\nimport fetch from 'js/fetch.js'\n\nclass Cart {\n\n  static getList(userID){\n    return fetch.get(url.cartList,{\n      userID\n    })\n  }\n\n  static increase(goodsID){\n    return fetch.post(url.cartIncrease,{\n      goodsID\n    })\n  }\n\n  static reduce(goodsID){\n    return fetch.post(url.cartReduce,{\n      goodsID\n    })\n  }\n\n  static remove(goodsID){\n    return fetch.post(url.cartRemove,{\n      goodsID\n    })\n  }\n\n  static moreRemove(goodsArr){\n    return fetch.post(url.cartMoreRemove,{\n      goodsArr\n    })\n  }\n}\n\nexport default Cart;\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cartService.js","let url = {\n  hotList: 'index/hotlists',\n  bannerList: 'index/banner',\n  topList: 'category/topList',\n  subList: 'category/subList',\n  rank: 'category/rank',\n  searchList: 'search/list',\n  goodsDetails: 'goods/details',\n  cartAdd: 'cart/add',\n  cartList: 'cart/cartList',\n  cartIncrease: 'cart/increase',\n  cartReduce: 'cart/reduce',\n  cartRemove: 'cart/remove',\n  cartMoreRemove: 'cart/moreRemove',\n  addressGetList: 'address/getList',\n  addressAdd: 'address/add',\n  addressUpdate: 'address/update',\n  addressRemove: 'address/remove',\n  addressSetDefault: 'address/setDefault'\n}\n\n// let host = 'http://rap2api.taobao.org/app/mock/7058'\nlet host = 'https://easy-mock.com/mock/5bd7072a541c73692857acb7/youzan/'\n\nfor(let key in url){\n  if(url.hasOwnProperty(key)){\n    url[key] = host + url[key]\n  }\n}\n\nexport default url\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","<template>\n  <div class=\"bottom-nav\">\n    <ul>\n      <li v-for=\"(list,index) in navConfig\" \n        :class=\"{active: index === activeIndex}\" \n        @click=\"changeNav(list,index)\"\n        :key=\"list.id\" >\n        <a>\n          <i :class=\"list.icon\"></i>\n          <div>{{list.name}}</div>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n\n  import qs from 'qs'\n\n  let navConfig = [{\n      id: 'footer-01',\n      name: '有赞',\n      icon: 'icon-home',\n      href: '/youzan'\n    }, {\n      id: 'footer-02',\n      name: '分类',\n      icon: 'icon-category',\n      href: 'category.html'\n    }, {\n      id: 'footer-03',\n      name: '购物车',\n      icon: 'icon-cart',\n      href: 'cart.html'\n    }, {\n      id: 'footer-04',\n      name: '我',\n      icon: 'icon-user',\n      href: 'member.html'\n    }]\n\n  export default {\n    data(){\n      return {\n        navConfig,\n        activeIndex: parseInt(qs.parse(location.search.slice(1)).index) || 0\n      }\n    },\n    methods: {\n      changeNav(list,index){\n        location.href = `${list.href}?index=${index}`;\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/Foot.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bottom-nav\"},[_c('ul',_vm._l((_vm.navConfig),function(list,index){return _c('li',{key:list.id,class:{active: index === _vm.activeIndex},on:{\"click\":function($event){_vm.changeNav(list,index)}}},[_c('a',[_c('i',{class:list.icon}),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(list.name))])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-42b32b47\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Foot.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-42b32b47\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Foot.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Foot.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Foot.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-42b32b47\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Foot.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Foot.vue\n// module id = null\n// module chunks = ","import Foot from 'components/Foot.vue'\n\nlet mixin = {\n  components: {\n    Foot\n  },\n  filters: {\n    currency(value){\n      return (Math.round(value*100)/100).toFixed(2);\n    }\n  }\n}\n\nexport default mixin;\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixin.js","import './cart_base.css'\nimport './cart_trade.css'\nimport './cart.css'\n\nimport Vue from 'vue'\nimport Velocity from 'velocity-animate'\n\nimport Cart from './cartService.js'\nimport mixin from 'js/mixin.js'\n\nvar app = new Vue({\n  el: \"#app\",\n  data:{\n    cartList: null,\n    loading: true,\n    editingStatus: false,\n    editingIndex: -1,\n    selectGoodsList: [],\n    removeGoodsList: [],\n    removePopup: false,\n    removeData: null,\n    removeAllStatus: false,\n    removeMsg: ''\n  },\n  created(){\n    this.getList().then(data=>{\n      this.loading = false;\n    })\n  },\n  methods:{\n    getList(){\n      return Cart.getList('99999').then(data=>{\n        let cartList = data.cartList;\n        cartList.forEach(shop=>{\n          shop.selectChecked = false;\n          shop.removeChecked = false;\n          shop.disabled = false;\n          shop.editMsg = '编辑';\n          shop.goodsList.forEach(goods=>{\n            goods.selectChecked = false;\n            goods.removeChecked = false;\n          })\n        })\n        this.cartList = cartList;\n      })\n    },\n    touchStart(e,goods){\n      goods.start = e.changedTouches[0].clientX;\n    },\n    touchEnd(e,shopIndex,goods,goodsIndex){\n      let end = e.changedTouches[0].clientX;\n      if(goods.start - end > 100){\n        Velocity(this.$refs[`goods-${shopIndex}-${goodsIndex}`],{left: -60})\n      }\n      if(goods.start - end < -100) {\n        Velocity(this.$refs[`goods-${shopIndex}-${goodsIndex}`],{left: 0});\n      }\n    },\n    checkNumber(goods,number){\n      if(typeof number !== 'number'){\n        goods.number = isNaN(parseInt(number)) ? 1 : (parseInt(number) > 0 ? parseInt(number) : 1);\n      }\n    },\n    goodsIncrease(goods,count){\n      if(goods.number === 1 && count < 0) return;\n      Cart.reduce(goods.id).then(res => {\n        goods.number += count;\n      })\n    },\n    editShop(shop,shopIndex){\n      if(!this.editingStatus){\n        this.editingStatus = true;\n        this.editingIndex = shopIndex;\n        shop.editMsg = '完成';\n        shop.disabled = false;\n        this.cartList.forEach((item,index)=>{\n          if(shopIndex != index){\n            item.editMsg = '';\n            item.disabled = true;\n          }\n        })\n      }else {\n        this.editingStatus = false;\n        this.editingIndex = -1;\n        this.cartList.forEach(item=>{\n          item.editMsg = '编辑';\n          item.disabled = false;\n        })\n      }\n    },\n    selectGoods(shop,goods,shopIndex,goodsIndex){\n      if(shop.disabled) return ;\n      goods[this.checkType] = !goods[this.checkType];\n      shop[this.checkType] =  shop.goodsList.every(item=>{\n        return item[this.checkType];\n      })\n      this.checkSelectList(goods);\n    },\n    selectShops(shop){\n      if(shop.disabled) return ;\n      shop[this.checkType] = !shop[this.checkType];\n      shop.goodsList.forEach(item=>{\n        item[this.checkType] = shop[this.checkType];\n        this.checkSelectList(item);\n      })\n    },\n    checkSelectList(goods){ \n      let checkListType = this.editingStatus ? 'removeGoodsList' : 'selectGoodsList';\n      if(goods[this.checkType]){\n        if(this[checkListType].indexOf(goods) === -1){\n          this[checkListType].push(goods);\n        }\n      }else {\n        for(let i = this[checkListType].length-1;i>=0;i--){\n          let item = this[checkListType][i]; \n          if(item.id === goods.id){\n            this[checkListType].splice(i,1);\n          }\n        }\n      }\n    },\n    removeGoods(shop,shopIndex,goods,goodsIndex){ \n      this.removeAllStatus = false;\n      this.removePopup = true;\n      this.removeData = {shop,shopIndex,goods,goodsIndex};\n      this.removeMsg = `确定要删除该商品？`;\n    },\n    removeMoreGoods(){\n      this.removeAllStatus = true;\n      this.removePopup = true;\n      this.removeMsg = `确定要删除${this.removeGoodsList.length}件商品？`;\n    },\n    removeConfirm(){\n      if(!this.removeAllStatus){\n        let {shop,shopIndex,goods,goodsIndex} = this.removeData;\n        Cart.remove(goods.id).then(res=>{\n          this.removeGoodsSuccess({shop,shopIndex,goods,goodsIndex});\n          this.removeData = null;\n        })\n      }else {\n        Cart.moreRemove(this.removeGoodsList.map(goods => goods.id)).then(res=>{\n          let shopIndex = this.editingIndex;\n          let shop = this.cartList[this.editingIndex];\n          this.removeGoodsList.forEach(goods=>{\n            let goodsIndex = shop.goodsList.indexOf(goods);\n            this.removeGoodsSuccess({shop,shopIndex,goods,goodsIndex})\n          })\n          this.removeGoodsList = [];\n          this.removeAllStatus = false;\n        });\n      }\n    },\n    removeGoodsSuccess(data){\n      let {shop,shopIndex,goods,goodsIndex} = data\n      shop.goodsList.splice(goodsIndex,1);\n      if(!shop.goodsList.length){\n        this.removeShop(shopIndex);\n      }\n      this.removePopup = false;\n      this.removeData = null;\n    },\n    removeShop(shopIndex){\n      this.cartList.splice(shopIndex,1);\n      this.cartList.forEach(item=>{\n        item.disabled = false;\n        item.editMsg = '编辑';\n        this.editingStatus = false;\n      })\n    },\n    allSelect(){\n      this.allSelctStatus = !this.allSelctStatus;\n    }\n  },\n  computed: {\n    allPrice(){\n      return this.selectGoodsList.reduce((sum,item)=>{\n        return sum + item.price * item.number;\n      },0)\n    },\n    allCount(){\n      return this.selectGoodsList.length;\n    },\n    checkType(){\n      return this.editingStatus ? 'removeChecked' : 'selectChecked';\n    },\n    allSelctStatus:{\n      get(){\n        if(this.editingStatus){\n          return this.cartList[this.editingIndex].removeChecked;\n        } else {\n          return this.selectGoodsList.length === this.cartList.reduce((sum,shop)=>{\n            return sum + shop.goodsList.length;\n          },0)\n        }\n      },\n      set(checked){\n        if(this.editingStatus){\n          let editShop =  this.cartList[this.editingIndex]\n          editShop[this.checkType] = checked;\n          editShop.goodsList.forEach(goods=>{\n            goods[this.checkType] = checked;\n            this.checkSelectList(goods);\n          })\n        }else{\n          this.cartList.forEach(shop=>{\n            shop[this.checkType] = checked;\n            shop.goodsList.forEach((goods,index)=>{\n              goods[this.checkType] = checked;\n              this.checkSelectList(goods);\n            })\n          })\n        }\n      }\n    }\n  },\n  mixins: [mixin]\n})\n \n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.js","import axios from 'axios'\n\nconst fetch = {\n  get(url,data){\n    return new Promise((resolve,reject)=>{\n      axios.get(url,data).then(res=>{\n        if(res.status === 200) {\n          resolve(res.data.data)\n        }\n        if(res.status === 401){\n          location.href = '/login.html'\n        }\n        resolve(res.data.data)\n      }).catch(res=>{\n        console.log('获取数据失败')\n        reject(res)\n      })\n    })\n  },\n  post(url,data){\n    return new Promise((resolve,reject)=>{\n      axios.post(url,data).then(res=>{\n        if(res.status === 200) {\n          resolve(res.data.data)\n        }\n        if(res.status === 401){\n          location.href = '/login.html'\n        }\n        resolve(res.data.data)\n      }).catch(res=>{\n        console.log('获取数据失败')\n        reject(res)\n      })\n    })\n  }\n}\n\nexport default fetch;\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/fetch.js"],"sourceRoot":""}